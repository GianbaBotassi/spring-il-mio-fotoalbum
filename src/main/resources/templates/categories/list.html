<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/resources :: headResources('Categories')">
</head>
<body>
<nav th:replace="fragments/navbar :: topNavbar('Categories')"></nav>
<div class="container" style="width:500px">
    <div class="text-center">
        <h2>Categories</h2>
        <form
                th:action="@{/categories}"
                method="POST"
                th:object="${category}"
                class="d-flex justify-content-center flex-column align-items-center"
        >
            <div class="mb-3" th:insert="/fragments/components :: formField('text','Name', 'name')"></div>
            <button class="btn btn-primary mb-3" type="submit">Add category</button>
        </form>
    </div>
    <table class="table">
        <thead>
        <tr>
            <th scope="col-10">Name</th>
            <th scope="col-2">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="cat : ${categories}" th:object="${cat}">
            <td class="col-10" th:text="*{name}"></td>
            <td class="col-2">
                <form th:action="@{/categories/delete/{id}(id=*{id})}" method="POST">
                    <button type="submit" class="border-0 bg-white" onclick="return confirm('Delete?')">
                        <i class="text-danger fa-solid fa-trash"></i>
                    </button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>